"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./components/MapContainer.tsx":
/*!*************************************!*\
  !*** ./components/MapContainer.tsx ***!
  \*************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MapContainer: () => (/* binding */ MapContainer)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var sonner__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sonner */ \"(app-pages-browser)/./node_modules/sonner/dist/index.mjs\");\n/* harmony import */ var react_map_gl_mapbox__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-map-gl/mapbox */ \"(app-pages-browser)/./node_modules/react-map-gl/dist/mapbox.js\");\n/* harmony import */ var mapbox_gl_dist_mapbox_gl_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! mapbox-gl/dist/mapbox-gl.css */ \"(app-pages-browser)/./node_modules/mapbox-gl/dist/mapbox-gl.css\");\n/* __next_internal_client_entry_do_not_use__ MapContainer auto */ \nvar _s = $RefreshSig$();\n\n\n\n\nconst MapContainer = (param)=>{\n    let { mapboxToken, isPlanning, routePoints, setRoutePoints, setDistance } = param;\n    _s();\n    const [route, setRoute] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isCalculatingRoute, setIsCalculatingRoute] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [viewState, setViewState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        latitude: 59.9139,\n        longitude: 10.7522,\n        zoom: 10\n    });\n    // Update route when routePoints change\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MapContainer.useEffect\": ()=>{\n            const updateRoute = {\n                \"MapContainer.useEffect.updateRoute\": async ()=>{\n                    if (routePoints.length >= 2) {\n                        setIsCalculatingRoute(true);\n                        const newRoute = await getMegaRoute(routePoints, mapboxToken);\n                        if (newRoute) {\n                            setDistance(newRoute.distance);\n                            setRoute(newRoute);\n                        }\n                        setIsCalculatingRoute(false);\n                    } else {\n                        setRoute(null);\n                        setDistance(0);\n                        setIsCalculatingRoute(false);\n                    }\n                }\n            }[\"MapContainer.useEffect.updateRoute\"];\n            updateRoute();\n        }\n    }[\"MapContainer.useEffect\"], [\n        routePoints,\n        mapboxToken,\n        setDistance\n    ]);\n    // Get user's current location on component mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MapContainer.useEffect\": ()=>{\n            if (navigator.geolocation) {\n                navigator.geolocation.getCurrentPosition({\n                    \"MapContainer.useEffect\": (position)=>{\n                        setViewState({\n                            latitude: position.coords.latitude,\n                            longitude: position.coords.longitude,\n                            zoom: 13\n                        });\n                    }\n                }[\"MapContainer.useEffect\"], {\n                    \"MapContainer.useEffect\": (error)=>{\n                        console.warn(\"Could not get user location:\", error);\n                    // Keep default location if geolocation fails\n                    }\n                }[\"MapContainer.useEffect\"], {\n                    enableHighAccuracy: true,\n                    timeout: 10000,\n                    maximumAge: 60000\n                });\n            }\n        }\n    }[\"MapContainer.useEffect\"], []);\n    const onClick = async (e)=>{\n        if (!isPlanning) return;\n        const newPoint = [\n            e.lngLat.lng,\n            e.lngLat.lat\n        ];\n        const newRoutePoints = [\n            ...routePoints,\n            newPoint\n        ];\n        setRoutePoints(newRoutePoints);\n    };\n    const handleMarkerClick = (indexToRemove, e)=>{\n        var // Prevent the map's onClick from firing\n        _e_originalEvent;\n        (_e_originalEvent = e.originalEvent) === null || _e_originalEvent === void 0 ? void 0 : _e_originalEvent.stopPropagation();\n        // Remove the point at the specified index\n        const newRoutePoints = routePoints.filter((_, index)=>index !== indexToRemove);\n        setRoutePoints(newRoutePoints);\n    };\n    const handleMarkerDrag = (index, event)=>{\n        const { lng, lat } = event.lngLat;\n        const newRoutePoints = [\n            ...routePoints\n        ];\n        newRoutePoints[index] = [\n            lng,\n            lat\n        ];\n        setRoutePoints(newRoutePoints);\n    };\n    const points = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"MapContainer.useMemo[points]\": ()=>{\n            return routePoints.map({\n                \"MapContainer.useMemo[points]\": (point, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_map_gl_mapbox__WEBPACK_IMPORTED_MODULE_3__.Marker, {\n                        longitude: point[0],\n                        latitude: point[1],\n                        draggable: true,\n                        onClick: {\n                            \"MapContainer.useMemo[points]\": (e)=>handleMarkerClick(index, e)\n                        }[\"MapContainer.useMemo[points]\"],\n                        onDragEnd: {\n                            \"MapContainer.useMemo[points]\": (e)=>handleMarkerDrag(index, e)\n                        }[\"MapContainer.useMemo[points]\"],\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative cursor-pointer group\",\n                            style: {\n                                width: \"20px\",\n                                height: \"20px\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"\\n            w-5 h-5 rounded-full border-2 border-white shadow-lg\\n            \".concat(index === 0 ? \"bg-green-500\" : \"bg-red-500\", \"\\n            group-hover:scale-110 transition-transform duration-200\\n            flex items-center justify-center\\n          \"),\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-white text-xs font-bold\",\n                                        children: index + 1\n                                    }, void 0, false, {\n                                        fileName: \"/Users/bendik/dev/route-runner-mapper-pro/components/MapContainer.tsx\",\n                                        lineNumber: 137,\n                                        columnNumber: 13\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/bendik/dev/route-runner-mapper-pro/components/MapContainer.tsx\",\n                                    lineNumber: 129,\n                                    columnNumber: 11\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \" absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-black text-white text-xs rounded px-2 py-1 whitespace-nowrap pointer-events-none z-10 \",\n                                    children: \"Click to remove â€¢ Drag to move\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/bendik/dev/route-runner-mapper-pro/components/MapContainer.tsx\",\n                                    lineNumber: 141,\n                                    columnNumber: 11\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/bendik/dev/route-runner-mapper-pro/components/MapContainer.tsx\",\n                            lineNumber: 121,\n                            columnNumber: 9\n                        }, undefined)\n                    }, \"route-\".concat(index), false, {\n                        fileName: \"/Users/bendik/dev/route-runner-mapper-pro/components/MapContainer.tsx\",\n                        lineNumber: 113,\n                        columnNumber: 7\n                    }, undefined)\n            }[\"MapContainer.useMemo[points]\"]);\n        }\n    }[\"MapContainer.useMemo[points]\"], [\n        routePoints\n    ]);\n    const routeGeoJson = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"MapContainer.useMemo[routeGeoJson]\": ()=>{\n            return {\n                type: \"Feature\",\n                properties: {},\n                geometry: {\n                    type: \"LineString\",\n                    coordinates: route !== null ? route.coordinates : []\n                }\n            };\n        }\n    }[\"MapContainer.useMemo[routeGeoJson]\"], [\n        route\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"w-full h-full relative\",\n        children: [\n            isCalculatingRoute && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute top-4 left-1/2 transform -translate-x-1/2 z-10 bg-blue-500 text-white px-4 py-2 rounded-lg shadow-lg\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center space-x-2\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent\"\n                        }, void 0, false, {\n                            fileName: \"/Users/bendik/dev/route-runner-mapper-pro/components/MapContainer.tsx\",\n                            lineNumber: 172,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            children: \"Calculating route...\"\n                        }, void 0, false, {\n                            fileName: \"/Users/bendik/dev/route-runner-mapper-pro/components/MapContainer.tsx\",\n                            lineNumber: 173,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/bendik/dev/route-runner-mapper-pro/components/MapContainer.tsx\",\n                    lineNumber: 171,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/bendik/dev/route-runner-mapper-pro/components/MapContainer.tsx\",\n                lineNumber: 170,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_map_gl_mapbox__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                mapboxAccessToken: mapboxToken,\n                mapStyle: \"mapbox://styles/mapbox/streets-v12\",\n                ...viewState,\n                onMove: (evt)=>setViewState(evt.viewState),\n                maxZoom: 20,\n                minZoom: 3,\n                onClick: onClick,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_map_gl_mapbox__WEBPACK_IMPORTED_MODULE_3__.Source, {\n                        type: \"geojson\",\n                        data: routeGeoJson,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_map_gl_mapbox__WEBPACK_IMPORTED_MODULE_3__.Layer, {\n                            ...style\n                        }, void 0, false, {\n                            fileName: \"/Users/bendik/dev/route-runner-mapper-pro/components/MapContainer.tsx\",\n                            lineNumber: 187,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/bendik/dev/route-runner-mapper-pro/components/MapContainer.tsx\",\n                        lineNumber: 186,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_map_gl_mapbox__WEBPACK_IMPORTED_MODULE_3__.NavigationControl, {\n                        position: \"top-right\"\n                    }, void 0, false, {\n                        fileName: \"/Users/bendik/dev/route-runner-mapper-pro/components/MapContainer.tsx\",\n                        lineNumber: 189,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_map_gl_mapbox__WEBPACK_IMPORTED_MODULE_3__.GeolocateControl, {\n                        position: \"top-right\"\n                    }, void 0, false, {\n                        fileName: \"/Users/bendik/dev/route-runner-mapper-pro/components/MapContainer.tsx\",\n                        lineNumber: 190,\n                        columnNumber: 9\n                    }, undefined),\n                    points\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/bendik/dev/route-runner-mapper-pro/components/MapContainer.tsx\",\n                lineNumber: 177,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/bendik/dev/route-runner-mapper-pro/components/MapContainer.tsx\",\n        lineNumber: 168,\n        columnNumber: 5\n    }, undefined);\n};\n_s(MapContainer, \"GcPjN5kfeh4FNeAI9m6T8xv0tAQ=\");\n_c = MapContainer;\nconst style = {\n    id: \"data\",\n    type: \"line\",\n    layout: {\n        \"line-join\": \"round\",\n        \"line-cap\": \"round\"\n    },\n    paint: {\n        \"line-color\": \"#ef4444\",\n        \"line-width\": 4,\n        \"line-opacity\": 0.8\n    }\n};\nasync function getRoute(coordinates, mapboxToken) {\n    if (coordinates.length < 2) return null;\n    const coordinatesString = coordinates.map((coord)=>\"\".concat(coord[0], \",\").concat(coord[1])).join(\";\");\n    const query = \"https://api.mapbox.com/directions/v5/mapbox/walking/\".concat(coordinatesString, \"?overview=full&geometries=geojson&access_token=\").concat(mapboxToken);\n    try {\n        const response = await fetch(query);\n        const data = await response.json();\n        if (data.routes && data.routes.length > 0) {\n            const route = data.routes[0];\n            return {\n                coordinates: route.geometry.coordinates,\n                distance: route.distance / 1000\n            };\n        }\n    } catch (error) {\n        console.error(\"Error fetching route:\", error);\n        sonner__WEBPACK_IMPORTED_MODULE_2__.toast.error(\"Failed to calculate route\");\n    }\n    return null;\n}\nasync function getMegaRoute(coordinates, mapboxToken) {\n    if (coordinates.length < 2) return null;\n    // If 25 or fewer waypoints, use the regular route function\n    if (coordinates.length <= 25) {\n        return getRoute(coordinates, mapboxToken);\n    }\n    const segments = [];\n    const maxWaypoints = 25;\n    const numSegments = Math.ceil((coordinates.length - 1) / (maxWaypoints - 1));\n    console.log(\"Splitting \".concat(coordinates.length, \" waypoints into \").concat(numSegments, \" segments\"));\n    // Split into chunks with overlap to ensure continuity\n    for(let i = 0; i < coordinates.length - 1; i += maxWaypoints - 1){\n        const endIndex = Math.min(i + maxWaypoints, coordinates.length);\n        const chunk = coordinates.slice(i, endIndex);\n        const segmentNumber = Math.floor(i / (maxWaypoints - 1)) + 1;\n        console.log(\"Processing segment \".concat(segmentNumber, \"/\").concat(numSegments, \" with \").concat(chunk.length, \" waypoints\"));\n        try {\n            const segment = await getRoute(chunk, mapboxToken);\n            if (segment) {\n                segments.push(segment);\n                console.log(\"Segment \".concat(segmentNumber, \" completed: \").concat(segment.distance.toFixed(2), \"km\"));\n            } else {\n                console.error(\"Failed to get route for segment \".concat(segmentNumber));\n                return null;\n            }\n        } catch (error) {\n            console.error(\"Error processing segment \".concat(segmentNumber, \":\"), error);\n            return null;\n        }\n        // Add small delay to avoid rate limiting\n        if (i + maxWaypoints - 1 < coordinates.length - 1) {\n            await new Promise((resolve)=>setTimeout(resolve, 200));\n        }\n    }\n    if (segments.length === 0) return null;\n    // Combine all segments\n    const allCoordinates = [];\n    let totalDistance = 0;\n    segments.forEach((segment, index)=>{\n        if (index === 0) {\n            // First segment: include all coordinates\n            allCoordinates.push(...segment.coordinates);\n        } else {\n            // Subsequent segments: skip first coordinate to avoid duplication\n            allCoordinates.push(...segment.coordinates.slice(1));\n        }\n        totalDistance += segment.distance;\n    });\n    console.log(\"Route calculation completed: \".concat(totalDistance.toFixed(2), \"km total distance\"));\n    return {\n        coordinates: allCoordinates,\n        distance: totalDistance\n    };\n}\nvar _c;\n$RefreshReg$(_c, \"MapContainer\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvTWFwQ29udGFpbmVyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFFb0U7QUFDckM7QUFVRjtBQUNTO0FBVS9CLE1BQU1XLGVBQTRDO1FBQUMsRUFDeERDLFdBQVcsRUFDWEMsVUFBVSxFQUNWQyxXQUFXLEVBQ1hDLGNBQWMsRUFDZEMsV0FBVyxFQUNaOztJQUNDLE1BQU0sQ0FBQ0MsT0FBT0MsU0FBUyxHQUFHZiwrQ0FBUUEsQ0FDaEM7SUFFRixNQUFNLENBQUNnQixvQkFBb0JDLHNCQUFzQixHQUFHakIsK0NBQVFBLENBQUM7SUFDN0QsTUFBTSxDQUFDa0IsV0FBV0MsYUFBYSxHQUFHbkIsK0NBQVFBLENBQUM7UUFDekNvQixVQUFVO1FBQ1ZDLFdBQVc7UUFDWEMsTUFBTTtJQUNSO0lBRUEsdUNBQXVDO0lBQ3ZDeEIsZ0RBQVNBO2tDQUFDO1lBQ1IsTUFBTXlCO3NEQUFjO29CQUNsQixJQUFJWixZQUFZYSxNQUFNLElBQUksR0FBRzt3QkFDM0JQLHNCQUFzQjt3QkFDdEIsTUFBTVEsV0FBVyxNQUFNQyxhQUFhZixhQUFhRjt3QkFDakQsSUFBSWdCLFVBQVU7NEJBQ1paLFlBQVlZLFNBQVNFLFFBQVE7NEJBQzdCWixTQUFTVTt3QkFDWDt3QkFDQVIsc0JBQXNCO29CQUN4QixPQUFPO3dCQUNMRixTQUFTO3dCQUNURixZQUFZO3dCQUNaSSxzQkFBc0I7b0JBQ3hCO2dCQUNGOztZQUVBTTtRQUNGO2lDQUFHO1FBQUNaO1FBQWFGO1FBQWFJO0tBQVk7SUFFMUMsaURBQWlEO0lBQ2pEZixnREFBU0E7a0NBQUM7WUFDUixJQUFJOEIsVUFBVUMsV0FBVyxFQUFFO2dCQUN6QkQsVUFBVUMsV0FBVyxDQUFDQyxrQkFBa0I7OENBQ3RDLENBQUNDO3dCQUNDWixhQUFhOzRCQUNYQyxVQUFVVyxTQUFTQyxNQUFNLENBQUNaLFFBQVE7NEJBQ2xDQyxXQUFXVSxTQUFTQyxNQUFNLENBQUNYLFNBQVM7NEJBQ3BD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SUFBRztZQUNqRixPQUFPO2dCQUNMdkUsUUFBUUQsS0FBSyxDQUFDLG1DQUFpRCxPQUFkb0U7Z0JBQ2pELE9BQU87WUFDVDtRQUNGLEVBQUUsT0FBT3BFLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLDRCQUEwQyxPQUFkb0UsZUFBYyxNQUFJcEU7WUFDNUQsT0FBTztRQUNUO1FBRUEseUNBQXlDO1FBQ3pDLElBQUkrRCxJQUFJTCxlQUFlLElBQUlyQixZQUFZOUMsTUFBTSxHQUFHLEdBQUc7WUFDakQsTUFBTSxJQUFJa0YsUUFBUSxDQUFDQyxVQUFZQyxXQUFXRCxTQUFTO1FBQ3JEO0lBQ0Y7SUFFQSxJQUFJakIsU0FBU2xFLE1BQU0sS0FBSyxHQUFHLE9BQU87SUFFbEMsdUJBQXVCO0lBQ3ZCLE1BQU1xRixpQkFBcUMsRUFBRTtJQUM3QyxJQUFJQyxnQkFBZ0I7SUFFcEJwQixTQUFTcUIsT0FBTyxDQUFDLENBQUNSLFNBQVNuRDtRQUN6QixJQUFJQSxVQUFVLEdBQUc7WUFDZix5Q0FBeUM7WUFDekN5RCxlQUFlTCxJQUFJLElBQUlELFFBQVFqQyxXQUFXO1FBQzVDLE9BQU87WUFDTCxrRUFBa0U7WUFDbEV1QyxlQUFlTCxJQUFJLElBQUlELFFBQVFqQyxXQUFXLENBQUM4QixLQUFLLENBQUM7UUFDbkQ7UUFDQVUsaUJBQWlCUCxRQUFRNUUsUUFBUTtJQUNuQztJQUVBTyxRQUFRNkQsR0FBRyxDQUFDLGdDQUF5RCxPQUF6QmUsY0FBY0wsT0FBTyxDQUFDLElBQUc7SUFFckUsT0FBTztRQUFFbkMsYUFBYXVDO1FBQWdCbEYsVUFBVW1GO0lBQWM7QUFDaEUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9iZW5kaWsvZGV2L3JvdXRlLXJ1bm5lci1tYXBwZXItcHJvL2NvbXBvbmVudHMvTWFwQ29udGFpbmVyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdG9hc3QgfSBmcm9tIFwic29ubmVyXCI7XG5pbXBvcnQgeyBjYWxjdWxhdGVEaXN0YW5jZSwgZHJhd1JvdXRlIH0gZnJvbSBcIkAvdXRpbHMvbWFwVXRpbHNcIjtcbmltcG9ydCBNYXAsIHtcbiAgR2VvbG9jYXRlQ29udHJvbCxcbiAgTWFwTW91c2VFdmVudCxcbiAgTmF2aWdhdGlvbkNvbnRyb2wsXG4gIE1hcmtlcixcbiAgU291cmNlLFxuICBMYXllcixcbiAgTGluZUxheWVyU3BlY2lmaWNhdGlvbixcbn0gZnJvbSBcInJlYWN0LW1hcC1nbC9tYXBib3hcIjtcbmltcG9ydCBcIm1hcGJveC1nbC9kaXN0L21hcGJveC1nbC5jc3NcIjtcblxuaW50ZXJmYWNlIE1hcENvbnRhaW5lclByb3BzIHtcbiAgbWFwYm94VG9rZW46IHN0cmluZztcbiAgaXNQbGFubmluZzogYm9vbGVhbjtcbiAgcm91dGVQb2ludHM6IFtudW1iZXIsIG51bWJlcl1bXTtcbiAgc2V0Um91dGVQb2ludHM6IChwb2ludHM6IFtudW1iZXIsIG51bWJlcl1bXSkgPT4gdm9pZDtcbiAgc2V0RGlzdGFuY2U6IChkaXN0YW5jZTogbnVtYmVyKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgY29uc3QgTWFwQ29udGFpbmVyOiBSZWFjdC5GQzxNYXBDb250YWluZXJQcm9wcz4gPSAoe1xuICBtYXBib3hUb2tlbixcbiAgaXNQbGFubmluZyxcbiAgcm91dGVQb2ludHMsXG4gIHNldFJvdXRlUG9pbnRzLFxuICBzZXREaXN0YW5jZSxcbn0pID0+IHtcbiAgY29uc3QgW3JvdXRlLCBzZXRSb3V0ZV0gPSB1c2VTdGF0ZTx7IGNvb3JkaW5hdGVzOiBbbnVtYmVyLCBudW1iZXJdW107IGRpc3RhbmNlOiBudW1iZXIgfSB8IG51bGw+KFxuICAgIG51bGwsXG4gICk7XG4gIGNvbnN0IFtpc0NhbGN1bGF0aW5nUm91dGUsIHNldElzQ2FsY3VsYXRpbmdSb3V0ZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFt2aWV3U3RhdGUsIHNldFZpZXdTdGF0ZV0gPSB1c2VTdGF0ZSh7XG4gICAgbGF0aXR1ZGU6IDU5LjkxMzksXG4gICAgbG9uZ2l0dWRlOiAxMC43NTIyLFxuICAgIHpvb206IDEwLFxuICB9KTtcblxuICAvLyBVcGRhdGUgcm91dGUgd2hlbiByb3V0ZVBvaW50cyBjaGFuZ2VcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB1cGRhdGVSb3V0ZSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmIChyb3V0ZVBvaW50cy5sZW5ndGggPj0gMikge1xuICAgICAgICBzZXRJc0NhbGN1bGF0aW5nUm91dGUodHJ1ZSk7XG4gICAgICAgIGNvbnN0IG5ld1JvdXRlID0gYXdhaXQgZ2V0TWVnYVJvdXRlKHJvdXRlUG9pbnRzLCBtYXBib3hUb2tlbik7XG4gICAgICAgIGlmIChuZXdSb3V0ZSkge1xuICAgICAgICAgIHNldERpc3RhbmNlKG5ld1JvdXRlLmRpc3RhbmNlKTtcbiAgICAgICAgICBzZXRSb3V0ZShuZXdSb3V0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0SXNDYWxjdWxhdGluZ1JvdXRlKGZhbHNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFJvdXRlKG51bGwpO1xuICAgICAgICBzZXREaXN0YW5jZSgwKTtcbiAgICAgICAgc2V0SXNDYWxjdWxhdGluZ1JvdXRlKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdXBkYXRlUm91dGUoKTtcbiAgfSwgW3JvdXRlUG9pbnRzLCBtYXBib3hUb2tlbiwgc2V0RGlzdGFuY2VdKTtcblxuICAvLyBHZXQgdXNlcidzIGN1cnJlbnQgbG9jYXRpb24gb24gY29tcG9uZW50IG1vdW50XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKG5hdmlnYXRvci5nZW9sb2NhdGlvbikge1xuICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihcbiAgICAgICAgKHBvc2l0aW9uKSA9PiB7XG4gICAgICAgICAgc2V0Vmlld1N0YXRlKHtcbiAgICAgICAgICAgIGxhdGl0dWRlOiBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsXG4gICAgICAgICAgICBsb25naXR1ZGU6IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUsXG4gICAgICAgICAgICB6b29tOiAxMyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgKGVycm9yKSA9PiB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiQ291bGQgbm90IGdldCB1c2VyIGxvY2F0aW9uOlwiLCBlcnJvcik7XG4gICAgICAgICAgLy8gS2VlcCBkZWZhdWx0IGxvY2F0aW9uIGlmIGdlb2xvY2F0aW9uIGZhaWxzXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWUsXG4gICAgICAgICAgdGltZW91dDogMTAwMDAsXG4gICAgICAgICAgbWF4aW11bUFnZTogNjAwMDAsXG4gICAgICAgIH0sXG4gICAgICApO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIGNvbnN0IG9uQ2xpY2sgPSBhc3luYyAoZTogTWFwTW91c2VFdmVudCkgPT4ge1xuICAgIGlmICghaXNQbGFubmluZykgcmV0dXJuO1xuXG4gICAgY29uc3QgbmV3UG9pbnQ6IFtudW1iZXIsIG51bWJlcl0gPSBbZS5sbmdMYXQubG5nLCBlLmxuZ0xhdC5sYXRdO1xuICAgIGNvbnN0IG5ld1JvdXRlUG9pbnRzID0gWy4uLnJvdXRlUG9pbnRzLCBuZXdQb2ludF07XG4gICAgc2V0Um91dGVQb2ludHMobmV3Um91dGVQb2ludHMpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZU1hcmtlckNsaWNrID0gKGluZGV4VG9SZW1vdmU6IG51bWJlciwgZTogYW55KSA9PiB7XG4gICAgLy8gUHJldmVudCB0aGUgbWFwJ3Mgb25DbGljayBmcm9tIGZpcmluZ1xuICAgIGUub3JpZ2luYWxFdmVudD8uc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAvLyBSZW1vdmUgdGhlIHBvaW50IGF0IHRoZSBzcGVjaWZpZWQgaW5kZXhcbiAgICBjb25zdCBuZXdSb3V0ZVBvaW50cyA9IHJvdXRlUG9pbnRzLmZpbHRlcigoXywgaW5kZXgpID0+IGluZGV4ICE9PSBpbmRleFRvUmVtb3ZlKTtcbiAgICBzZXRSb3V0ZVBvaW50cyhuZXdSb3V0ZVBvaW50cyk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlTWFya2VyRHJhZyA9IChpbmRleDogbnVtYmVyLCBldmVudDogYW55KSA9PiB7XG4gICAgY29uc3QgeyBsbmcsIGxhdCB9ID0gZXZlbnQubG5nTGF0O1xuICAgIGNvbnN0IG5ld1JvdXRlUG9pbnRzID0gWy4uLnJvdXRlUG9pbnRzXTtcbiAgICBuZXdSb3V0ZVBvaW50c1tpbmRleF0gPSBbbG5nLCBsYXRdO1xuICAgIHNldFJvdXRlUG9pbnRzKG5ld1JvdXRlUG9pbnRzKTtcbiAgfTtcblxuICBjb25zdCBwb2ludHMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gcm91dGVQb2ludHMubWFwKChwb2ludCwgaW5kZXgpID0+IChcbiAgICAgIDxNYXJrZXJcbiAgICAgICAga2V5PXtgcm91dGUtJHtpbmRleH1gfVxuICAgICAgICBsb25naXR1ZGU9e3BvaW50WzBdfVxuICAgICAgICBsYXRpdHVkZT17cG9pbnRbMV19XG4gICAgICAgIGRyYWdnYWJsZVxuICAgICAgICBvbkNsaWNrPXsoZSkgPT4gaGFuZGxlTWFya2VyQ2xpY2soaW5kZXgsIGUpfVxuICAgICAgICBvbkRyYWdFbmQ9eyhlKSA9PiBoYW5kbGVNYXJrZXJEcmFnKGluZGV4LCBlKX1cbiAgICAgID5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzTmFtZT1cInJlbGF0aXZlIGN1cnNvci1wb2ludGVyIGdyb3VwXCJcbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgd2lkdGg6IFwiMjBweFwiLFxuICAgICAgICAgICAgaGVpZ2h0OiBcIjIwcHhcIixcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgey8qIE1hcmtlciBwaW4gKi99XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgXG4gICAgICAgICAgICB3LTUgaC01IHJvdW5kZWQtZnVsbCBib3JkZXItMiBib3JkZXItd2hpdGUgc2hhZG93LWxnXG4gICAgICAgICAgICAke2luZGV4ID09PSAwID8gXCJiZy1ncmVlbi01MDBcIiA6IFwiYmctcmVkLTUwMFwifVxuICAgICAgICAgICAgZ3JvdXAtaG92ZXI6c2NhbGUtMTEwIHRyYW5zaXRpb24tdHJhbnNmb3JtIGR1cmF0aW9uLTIwMFxuICAgICAgICAgICAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcbiAgICAgICAgICBgfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgdGV4dC14cyBmb250LWJvbGRcIj57aW5kZXggKyAxfTwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiBIb3ZlciB0b29sdGlwICovfVxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cIlxuICAgICAgICAgICAgYWJzb2x1dGUgYm90dG9tLWZ1bGwgbGVmdC0xLzIgdHJhbnNmb3JtIC10cmFuc2xhdGUteC0xLzIgbWItMlxuICAgICAgICAgICAgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eSBkdXJhdGlvbi0yMDBcbiAgICAgICAgICAgIGJnLWJsYWNrIHRleHQtd2hpdGUgdGV4dC14cyByb3VuZGVkIHB4LTIgcHktMSB3aGl0ZXNwYWNlLW5vd3JhcFxuICAgICAgICAgICAgcG9pbnRlci1ldmVudHMtbm9uZSB6LTEwXG4gICAgICAgICAgXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICBDbGljayB0byByZW1vdmUg4oCiIERyYWcgdG8gbW92ZVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvTWFya2VyPlxuICAgICkpO1xuICB9LCBbcm91dGVQb2ludHNdKTtcblxuICBjb25zdCByb3V0ZUdlb0pzb246IEdlb0pTT04uR2VvSlNPTiA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcIkZlYXR1cmVcIixcbiAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgZ2VvbWV0cnk6IHtcbiAgICAgICAgdHlwZTogXCJMaW5lU3RyaW5nXCIsXG4gICAgICAgIGNvb3JkaW5hdGVzOiByb3V0ZSAhPT0gbnVsbCA/IHJvdXRlLmNvb3JkaW5hdGVzIDogW10sXG4gICAgICB9LFxuICAgIH07XG4gIH0sIFtyb3V0ZV0pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIHJlbGF0aXZlXCI+XG4gICAgICB7aXNDYWxjdWxhdGluZ1JvdXRlICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtNCBsZWZ0LTEvMiB0cmFuc2Zvcm0gLXRyYW5zbGF0ZS14LTEvMiB6LTEwIGJnLWJsdWUtNTAwIHRleHQtd2hpdGUgcHgtNCBweS0yIHJvdW5kZWQtbGcgc2hhZG93LWxnXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBoLTQgdy00IGJvcmRlci0yIGJvcmRlci13aGl0ZSBib3JkZXItdC10cmFuc3BhcmVudFwiPjwvZGl2PlxuICAgICAgICAgICAgPHNwYW4+Q2FsY3VsYXRpbmcgcm91dGUuLi48L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgIDxNYXBcbiAgICAgICAgbWFwYm94QWNjZXNzVG9rZW49e21hcGJveFRva2VufVxuICAgICAgICBtYXBTdHlsZT1cIm1hcGJveDovL3N0eWxlcy9tYXBib3gvc3RyZWV0cy12MTJcIlxuICAgICAgICB7Li4udmlld1N0YXRlfVxuICAgICAgICBvbk1vdmU9eyhldnQpID0+IHNldFZpZXdTdGF0ZShldnQudmlld1N0YXRlKX1cbiAgICAgICAgbWF4Wm9vbT17MjB9XG4gICAgICAgIG1pblpvb209ezN9XG4gICAgICAgIG9uQ2xpY2s9e29uQ2xpY2t9XG4gICAgICA+XG4gICAgICAgIDxTb3VyY2UgdHlwZT1cImdlb2pzb25cIiBkYXRhPXtyb3V0ZUdlb0pzb259PlxuICAgICAgICAgIDxMYXllciB7Li4uc3R5bGV9IC8+XG4gICAgICAgIDwvU291cmNlPlxuICAgICAgICA8TmF2aWdhdGlvbkNvbnRyb2wgcG9zaXRpb249XCJ0b3AtcmlnaHRcIiAvPlxuICAgICAgICA8R2VvbG9jYXRlQ29udHJvbCBwb3NpdGlvbj1cInRvcC1yaWdodFwiIC8+XG4gICAgICAgIHtwb2ludHN9XG4gICAgICA8L01hcD5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmNvbnN0IHN0eWxlOiBPbWl0PExpbmVMYXllclNwZWNpZmljYXRpb24sIFwic291cmNlXCI+ID0ge1xuICBpZDogXCJkYXRhXCIsXG4gIHR5cGU6IFwibGluZVwiLFxuICBsYXlvdXQ6IHtcbiAgICBcImxpbmUtam9pblwiOiBcInJvdW5kXCIsXG4gICAgXCJsaW5lLWNhcFwiOiBcInJvdW5kXCIsXG4gIH0sXG4gIHBhaW50OiB7XG4gICAgXCJsaW5lLWNvbG9yXCI6IFwiI2VmNDQ0NFwiLFxuICAgIFwibGluZS13aWR0aFwiOiA0LFxuICAgIFwibGluZS1vcGFjaXR5XCI6IDAuOCxcbiAgfSxcbn07XG5cbmFzeW5jIGZ1bmN0aW9uIGdldFJvdXRlKFxuICBjb29yZGluYXRlczogW251bWJlciwgbnVtYmVyXVtdLFxuICBtYXBib3hUb2tlbjogc3RyaW5nLFxuKTogUHJvbWlzZTx7IGNvb3JkaW5hdGVzOiBbbnVtYmVyLCBudW1iZXJdW107IGRpc3RhbmNlOiBudW1iZXIgfSB8IG51bGw+IHtcbiAgaWYgKGNvb3JkaW5hdGVzLmxlbmd0aCA8IDIpIHJldHVybiBudWxsO1xuXG4gIGNvbnN0IGNvb3JkaW5hdGVzU3RyaW5nID0gY29vcmRpbmF0ZXMubWFwKChjb29yZCkgPT4gYCR7Y29vcmRbMF19LCR7Y29vcmRbMV19YCkuam9pbihcIjtcIik7XG4gIGNvbnN0IHF1ZXJ5ID0gYGh0dHBzOi8vYXBpLm1hcGJveC5jb20vZGlyZWN0aW9ucy92NS9tYXBib3gvd2Fsa2luZy8ke2Nvb3JkaW5hdGVzU3RyaW5nfT9vdmVydmlldz1mdWxsJmdlb21ldHJpZXM9Z2VvanNvbiZhY2Nlc3NfdG9rZW49JHttYXBib3hUb2tlbn1gO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChxdWVyeSk7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgIGlmIChkYXRhLnJvdXRlcyAmJiBkYXRhLnJvdXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCByb3V0ZSA9IGRhdGEucm91dGVzWzBdO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY29vcmRpbmF0ZXM6IHJvdXRlLmdlb21ldHJ5LmNvb3JkaW5hdGVzLFxuICAgICAgICBkaXN0YW5jZTogcm91dGUuZGlzdGFuY2UgLyAxMDAwLCAvLyBDb252ZXJ0IHRvIGtpbG9tZXRlcnNcbiAgICAgIH07XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyByb3V0ZTpcIiwgZXJyb3IpO1xuICAgIHRvYXN0LmVycm9yKFwiRmFpbGVkIHRvIGNhbGN1bGF0ZSByb3V0ZVwiKTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRNZWdhUm91dGUoXG4gIGNvb3JkaW5hdGVzOiBbbnVtYmVyLCBudW1iZXJdW10sXG4gIG1hcGJveFRva2VuOiBzdHJpbmcsXG4pOiBQcm9taXNlPHsgY29vcmRpbmF0ZXM6IFtudW1iZXIsIG51bWJlcl1bXTsgZGlzdGFuY2U6IG51bWJlciB9IHwgbnVsbD4ge1xuICBpZiAoY29vcmRpbmF0ZXMubGVuZ3RoIDwgMikgcmV0dXJuIG51bGw7XG5cbiAgLy8gSWYgMjUgb3IgZmV3ZXIgd2F5cG9pbnRzLCB1c2UgdGhlIHJlZ3VsYXIgcm91dGUgZnVuY3Rpb25cbiAgaWYgKGNvb3JkaW5hdGVzLmxlbmd0aCA8PSAyNSkge1xuICAgIHJldHVybiBnZXRSb3V0ZShjb29yZGluYXRlcywgbWFwYm94VG9rZW4pO1xuICB9XG5cbiAgY29uc3Qgc2VnbWVudHM6IHsgY29vcmRpbmF0ZXM6IFtudW1iZXIsIG51bWJlcl1bXTsgZGlzdGFuY2U6IG51bWJlciB9W10gPSBbXTtcbiAgY29uc3QgbWF4V2F5cG9pbnRzID0gMjU7XG4gIGNvbnN0IG51bVNlZ21lbnRzID0gTWF0aC5jZWlsKChjb29yZGluYXRlcy5sZW5ndGggLSAxKSAvIChtYXhXYXlwb2ludHMgLSAxKSk7XG5cbiAgY29uc29sZS5sb2coYFNwbGl0dGluZyAke2Nvb3JkaW5hdGVzLmxlbmd0aH0gd2F5cG9pbnRzIGludG8gJHtudW1TZWdtZW50c30gc2VnbWVudHNgKTtcblxuICAvLyBTcGxpdCBpbnRvIGNodW5rcyB3aXRoIG92ZXJsYXAgdG8gZW5zdXJlIGNvbnRpbnVpdHlcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb29yZGluYXRlcy5sZW5ndGggLSAxOyBpICs9IG1heFdheXBvaW50cyAtIDEpIHtcbiAgICBjb25zdCBlbmRJbmRleCA9IE1hdGgubWluKGkgKyBtYXhXYXlwb2ludHMsIGNvb3JkaW5hdGVzLmxlbmd0aCk7XG4gICAgY29uc3QgY2h1bmsgPSBjb29yZGluYXRlcy5zbGljZShpLCBlbmRJbmRleCk7XG4gICAgY29uc3Qgc2VnbWVudE51bWJlciA9IE1hdGguZmxvb3IoaSAvIChtYXhXYXlwb2ludHMgLSAxKSkgKyAxO1xuXG4gICAgY29uc29sZS5sb2coXG4gICAgICBgUHJvY2Vzc2luZyBzZWdtZW50ICR7c2VnbWVudE51bWJlcn0vJHtudW1TZWdtZW50c30gd2l0aCAke2NodW5rLmxlbmd0aH0gd2F5cG9pbnRzYCxcbiAgICApO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNlZ21lbnQgPSBhd2FpdCBnZXRSb3V0ZShjaHVuaywgbWFwYm94VG9rZW4pO1xuICAgICAgaWYgKHNlZ21lbnQpIHtcbiAgICAgICAgc2VnbWVudHMucHVzaChzZWdtZW50KTtcbiAgICAgICAgY29uc29sZS5sb2coYFNlZ21lbnQgJHtzZWdtZW50TnVtYmVyfSBjb21wbGV0ZWQ6ICR7c2VnbWVudC5kaXN0YW5jZS50b0ZpeGVkKDIpfWttYCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gZ2V0IHJvdXRlIGZvciBzZWdtZW50ICR7c2VnbWVudE51bWJlcn1gKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHByb2Nlc3Npbmcgc2VnbWVudCAke3NlZ21lbnROdW1iZXJ9OmAsIGVycm9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIEFkZCBzbWFsbCBkZWxheSB0byBhdm9pZCByYXRlIGxpbWl0aW5nXG4gICAgaWYgKGkgKyBtYXhXYXlwb2ludHMgLSAxIDwgY29vcmRpbmF0ZXMubGVuZ3RoIC0gMSkge1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMjAwKSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHNlZ21lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XG5cbiAgLy8gQ29tYmluZSBhbGwgc2VnbWVudHNcbiAgY29uc3QgYWxsQ29vcmRpbmF0ZXM6IFtudW1iZXIsIG51bWJlcl1bXSA9IFtdO1xuICBsZXQgdG90YWxEaXN0YW5jZSA9IDA7XG5cbiAgc2VnbWVudHMuZm9yRWFjaCgoc2VnbWVudCwgaW5kZXgpID0+IHtcbiAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgIC8vIEZpcnN0IHNlZ21lbnQ6IGluY2x1ZGUgYWxsIGNvb3JkaW5hdGVzXG4gICAgICBhbGxDb29yZGluYXRlcy5wdXNoKC4uLnNlZ21lbnQuY29vcmRpbmF0ZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTdWJzZXF1ZW50IHNlZ21lbnRzOiBza2lwIGZpcnN0IGNvb3JkaW5hdGUgdG8gYXZvaWQgZHVwbGljYXRpb25cbiAgICAgIGFsbENvb3JkaW5hdGVzLnB1c2goLi4uc2VnbWVudC5jb29yZGluYXRlcy5zbGljZSgxKSk7XG4gICAgfVxuICAgIHRvdGFsRGlzdGFuY2UgKz0gc2VnbWVudC5kaXN0YW5jZTtcbiAgfSk7XG5cbiAgY29uc29sZS5sb2coYFJvdXRlIGNhbGN1bGF0aW9uIGNvbXBsZXRlZDogJHt0b3RhbERpc3RhbmNlLnRvRml4ZWQoMil9a20gdG90YWwgZGlzdGFuY2VgKTtcblxuICByZXR1cm4geyBjb29yZGluYXRlczogYWxsQ29vcmRpbmF0ZXMsIGRpc3RhbmNlOiB0b3RhbERpc3RhbmNlIH07XG59XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlU3RhdGUiLCJ0b2FzdCIsIk1hcCIsIkdlb2xvY2F0ZUNvbnRyb2wiLCJOYXZpZ2F0aW9uQ29udHJvbCIsIk1hcmtlciIsIlNvdXJjZSIsIkxheWVyIiwiTWFwQ29udGFpbmVyIiwibWFwYm94VG9rZW4iLCJpc1BsYW5uaW5nIiwicm91dGVQb2ludHMiLCJzZXRSb3V0ZVBvaW50cyIsInNldERpc3RhbmNlIiwicm91dGUiLCJzZXRSb3V0ZSIsImlzQ2FsY3VsYXRpbmdSb3V0ZSIsInNldElzQ2FsY3VsYXRpbmdSb3V0ZSIsInZpZXdTdGF0ZSIsInNldFZpZXdTdGF0ZSIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwiem9vbSIsInVwZGF0ZVJvdXRlIiwibGVuZ3RoIiwibmV3Um91dGUiLCJnZXRNZWdhUm91dGUiLCJkaXN0YW5jZSIsIm5hdmlnYXRvciIsImdlb2xvY2F0aW9uIiwiZ2V0Q3VycmVudFBvc2l0aW9uIiwicG9zaXRpb24iLCJjb29yZHMiLCJlcnJvciIsImNvbnNvbGUiLCJ3YXJuIiwiZW5hYmxlSGlnaEFjY3VyYWN5IiwidGltZW91dCIsIm1heGltdW1BZ2UiLCJvbkNsaWNrIiwiZSIsIm5ld1BvaW50IiwibG5nTGF0IiwibG5nIiwibGF0IiwibmV3Um91dGVQb2ludHMiLCJoYW5kbGVNYXJrZXJDbGljayIsImluZGV4VG9SZW1vdmUiLCJvcmlnaW5hbEV2ZW50Iiwic3RvcFByb3BhZ2F0aW9uIiwiZmlsdGVyIiwiXyIsImluZGV4IiwiaGFuZGxlTWFya2VyRHJhZyIsImV2ZW50IiwicG9pbnRzIiwibWFwIiwicG9pbnQiLCJkcmFnZ2FibGUiLCJvbkRyYWdFbmQiLCJkaXYiLCJjbGFzc05hbWUiLCJzdHlsZSIsIndpZHRoIiwiaGVpZ2h0Iiwic3BhbiIsInJvdXRlR2VvSnNvbiIsInR5cGUiLCJwcm9wZXJ0aWVzIiwiZ2VvbWV0cnkiLCJjb29yZGluYXRlcyIsIm1hcGJveEFjY2Vzc1Rva2VuIiwibWFwU3R5bGUiLCJvbk1vdmUiLCJldnQiLCJtYXhab29tIiwibWluWm9vbSIsImRhdGEiLCJpZCIsImxheW91dCIsInBhaW50IiwiZ2V0Um91dGUiLCJjb29yZGluYXRlc1N0cmluZyIsImNvb3JkIiwiam9pbiIsInF1ZXJ5IiwicmVzcG9uc2UiLCJmZXRjaCIsImpzb24iLCJyb3V0ZXMiLCJzZWdtZW50cyIsIm1heFdheXBvaW50cyIsIm51bVNlZ21lbnRzIiwiTWF0aCIsImNlaWwiLCJsb2ciLCJpIiwiZW5kSW5kZXgiLCJtaW4iLCJjaHVuayIsInNsaWNlIiwic2VnbWVudE51bWJlciIsImZsb29yIiwic2VnbWVudCIsInB1c2giLCJ0b0ZpeGVkIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiYWxsQ29vcmRpbmF0ZXMiLCJ0b3RhbERpc3RhbmNlIiwiZm9yRWFjaCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/MapContainer.tsx\n"));

/***/ })

});